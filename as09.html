
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://github.com/nus-cs1010-2021-s2/website/as09.html">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>Assignment 9: Digits - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="navy" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#assignment-9-digits" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://github.com/nus-cs1010-2021-s2/website" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            CS1010 Programming Methodology
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Assignment 9: Digits
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://github.com/nus-cs1010-2021-s2/website" title="CS1010 Programming Methodology" class="md-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    CS1010 Programming Methodology
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="index.html" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    
    <label class="md-nav__link" for="nav-2">
      General
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="General" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="about.html" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="outcomes.html" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="schedule.html" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="accounts.html" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="policies.html" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      Notes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="01-program.html" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="02-algo.html" class="md-nav__link">
      2. Computational Problem & Algorithms
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="03-func.html" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="04-type.html" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="05-first-c.html" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="06-cs1010-io.html" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="07-arithmetic-ops.html" class="md-nav__link">
      7. Arithmetic Operations
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="08-if-else.html" class="md-nav__link">
      8. Conditional Statements
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="09-logical-exp.html" class="md-nav__link">
      9. Logical Expressions
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="10-assert.html" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    
    <label class="md-nav__link" for="nav-4">
      Exercises
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Exercises" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="ex00.html" class="md-nav__link">
      0. Echo, Divide, Quadratic
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="ex01.html" class="md-nav__link">
      1. GCD, Day, Leap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      Assignments
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Assignments" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="assignment.html" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="readings.html" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="c-in-cs1010.html" class="md-nav__link">
      C in CS1010
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="library.html" class="md-nav__link">
      CS1010 I/O Library
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="style.html" class="md-nav__link">
      C Style Convention
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="documentation.html" class="md-nav__link">
      C Documentation Guide
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="messages.html" class="md-nav__link">
      Compiler Messages
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" >
    
    <label class="md-nav__link" for="nav-12">
      Software/Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software/Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon"></span>
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="environments.html" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="unix.html" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="clang.html" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="vim.html" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="tmate.html" class="md-nav__link">
      TMate
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="zoom.html" class="md-nav__link">
      Zoom
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deadline" class="md-nav__link">
    Deadline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    Prerequisite
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" class="md-nav__link">
    Learning Outcomes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solving-the-assignments" class="md-nav__link">
    Solving The Assignments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identifying-yourself" class="md-nav__link">
    Identifying Yourself
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" class="md-nav__link">
    Grading
  </a>
  
    <nav class="md-nav" aria-label="Grading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-clang-tidy-checks" class="md-nav__link">
    New clang-tidy checks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-checks" class="md-nav__link">
    Memory checks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduced-test-data" class="md-nav__link">
    Reduced test data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responsibility" class="md-nav__link">
    Responsibility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#question" class="md-nav__link">
    Question
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="assignment-9-digits">Assignment 9: Digits</h1>
<h3 id="deadline">Deadline</h3>
<p>13 November 2020 (Friday), 23:59</p>
<h3 id="prerequisite">Prerequisite</h3>
<ul>
<li>You are able to access the <a href="environments.html">CS1010 programming environment</a>.</li>
<li>You are familiar with <a href="unix.html">basic UNIX CLI</a> and using terminal-based editor <a href="vim.html"><code>vim</code></a>.</li>
<li>You have gone through Exercise 1 and have already set up your <code>.gitconfig</code>.</li>
<li>You are familiar with the steps of accepting, downloading, and submitting your exercise and assignment.</li>
<li>You are familiar with the directory structure and the common files included in your assignment skeleton.</li>
</ul>
<h3 id="learning-outcomes">Learning Outcomes</h3>
<ul>
<li>Be comfortable writing C programs that involve arithmetic operations, <code>long</code>, <code>double</code>, <code>bool</code>, and <code>char</code> types, conditional <code>if</code>/<code>else</code> statements, loops with <code>while</code>/<code>for</code>/<code>do-while</code> statements, arrays (including 2D arrays), strings, dynamic arrays, assert, and <ins class="critic">struct</ins>.</li>
<li>Be comfortable breaking down a problem into smaller subproblems that can be resolved using functions, including reusing existing functions written for other programs (with a tweak), writing a function that calls itself, designing what should the inputs and return values/types of a function be.</li>
<li>Be able to analyze the running time of your code and design algorithm that avoid duplicated or redundant work, exploiting properties of the data.</li>
<li>Be able to solve problems with recursion, particular those involving non-linear recursion and backtracking.</li>
</ul>
<h3 id="setup">Setup</h3>
<ul>
<li><a href="https://classroom.github.com/a/Yu2WnzrO">Click on this link</a> to accept the assignment.</li>
<li>Login to one of the hosts of <a href="environments.html">CS1010 programming environment</a></li>
<li>Run:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>~cs1010/get-as09
</code></pre></div>
</td></tr></table>
<ul>
<li>You should see the folder <code>as09-&lt;github id&gt;</code> in your home directory with the assignment skeleton inside.</li>
</ul>
<h3 id="solving-the-assignments">Solving The Assignments</h3>
<ul>
<li>Edit the files <code>digits.c</code> to solve the corresponding question as described in <code>question.md</code></li>
<li>You should break down the problem into smaller subproblems, and write one function for each of the subproblem to solve the problem.  </li>
<li>To compile and run tests with the sample inputs and outputs:</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>make
</code></pre></div>
</td></tr></table>
<ul>
<li>The test cases are given in the <code>inputs</code> and <code>outputs</code> subdirectory as well as in <code>~cs1010/as09</code>.  You can use <code>cat</code> or <code>less</code> to look at the content of these test cases.  You can add more test cases or edit the given ones if needed.</li>
</ul>
<h3 id="submission">Submission</h3>
<p>When you are ready, run the following command to submit:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>~cs1010/submit-as09
</code></pre></div>
</td></tr></table>
<p>The files <code>digits.c</code> will be uploaded to GitHub.  You can submit multiple times, but only the last submission will be graded.</p>
<div class="admonition warn">
<p class="admonition-title">Editing Your Files in Multiple Locations</p>
<p>You should edit your code only on the CS1010 PE hosts.  If you choose to edit your code in other places, such as directly on Github or in a second location (such as your own laptop), you need to be comfortable with various <code>git</code> command to synchronize your code across the different locations, possibly needing to resolve synchronization conflicts.  </p>
</div>
<p>Only the C files listed above will be submitted.  You can create additional C files for testing different solutions, but eventually, you must put your solution into the corresponding C file provided as the skeleton.</p>
<h3 id="identifying-yourself">Identifying Yourself</h3>
<p>In every C file that you submit to CS1010, you need to identify yourself by writing your name and tutorial group. Marks will be deducted if you fail to do so. You need to edit the line:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>@author XXXX (Group YYYY)
</code></pre></div>
</td></tr></table>
<p>and change it to something like:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>@author Sarah Manning (Group G02)
</code></pre></div>
</td></tr></table>
<h3 id="grading">Grading</h3>
<p>This assignment contributes towards <ins class="critic">3.5%</ins> of your final grade.  The total mark for this assignment is <ins class="critic">35</ins> marks.  There are four marking criteria: correctness, documentation, style, efficiency.  The distribution of the marks different by question.  Please refer to <code>questions.md</code> for details.</p>
<ul>
<li>Documentation: Marks are no longer allocated for documentation.  The graders reserves the right to deduct up to two marks if you do not document your code properly.  Please refer to the <a href="documentation.html">documentation</a> and follow the recommended format.  You need to explain the purpose of <em>every</em> file, function, and parameter.  Logic in your code that is not obvious should be explained as well.</li>
<li>Style: Marks are no longer allocated for style.  But the graders reserves the right to deduct up to two marks if your code blatantly violates the style guidelines.</li>
<li>Correctness: Note that passing the tests does not guarantee that your code is correct.  Correctness here is defined in the broad sense of using the various programming constructs in C (type, function, variable, loops, conditionals, arithmetic expressions, logical expressions) <em>properly</em>, not just producing the correct output and bug-free.  </li>
<li>Efficiency: Some question has an efficiency requirement.  You need to meet the efficiency requirement to obtain the efficiency marks.</li>
</ul>
<h4 id="new-clang-tidy-checks">New <code>clang-tidy</code> checks</h4>
<p>We have been encouraging students to break the solutions down into small functions.  Not everyone adhere to this good practice, however.  From this assigment onwards, we will generate a warning if your function is too large.  We use a threshold of 50 statements and <ins class="critic">6</ins> nesting levels.  Any function that exceeds this threshold will generate a warning.</p>
<h4 id="memory-checks">Memory checks</h4>
<p>We will start checking how you handle the memory returned from <code>malloc</code> and friends (including those returned by the CS1010 I/O library, including checks for <code>NULL</code> and calling <code>free</code>).   Penalty applies if you do not manage them correctly.</p>
<p>Remember to return non-zero if your program does not run to its completion and encounters unexpected error.</p>
<h4 id="reduced-test-data">Reduced test data</h4>
<p>We have been providing lots of test data to help you test your program.  We will reduce the number of test cases provided from now on.  You should come up with your own test cases to test your code to make sure it covers all the cases (especially the edge cases).</p>
<p>We reserve the right to penalize students for using banned C syntax in the assignments.  In addition, each grader at his or her own discretion can penalize students for repeating mistakes / bad practices from the student's past assignments (even if it was just a warning with no marks deducted in the earlier assignments).</p>
<h4 id="responsibility">Responsibility</h4>
<p>By now, you should be familiar with how to accept, get, solve, and submit a CS1010 assignment.  From this assignment onwards, you need to take full responsibility of submitting the correct version of your assignment before the deadline, or accept the consequences of your actions.  We will no longer entertain appeals for marks if you submit an incorrect version of your code, forget to submit the assignment, submit late due to forgotten password, or other reasons due to unprofessional behavior.</p>
<h3 id="question">Question</h3>
<p><del class="critic">To acclimatize you to the PE2 condition, the questions for this assignment are included in the skeleton instead, in a file named <code>questions.md</code>.</p>
<p>You should learn how to use <code>vim</code> to open both the <code>.c</code> file and the <code>questions.md</code> side-by-side (see <a href="https://nus-cs1010.github.io/2021-s1/vim.html#splitting-vims-viewport">https://nus-cs1010.github.io/2021-s1/vim.html#splitting-vims-viewport</a>)</del></p>
<p><img alt="MNIST" src="https://commons.wikimedia.org/wiki/File:MnistExamples.png" /></p>
<h1 id="digits-35-marks">Digits (35 Marks)</h1>
<p>We started CS1010 with an assignment question on digits, so it is fitting that we end with one.</p>
<p>In this assignment, your goal is to write a program that can recognize handwritten digits. This is a classic problem in pattern recognition and machine learning. The state of the art techniques can now achieve a recognition rate of over 99%. We, however, will implement a simple algorithm called k-nearest neighbor algorithm, which has a lower accuracy but is simpler.</p>
<h2 id="supervised-machine-learning">Supervised Machine Learning</h2>
<p>The k-nearest neighbor algorithm belongs to a category of algorithm called <em>supervised machine learning</em> algorithms.  These algorithms teach or train the machine to learn to do something, by showing the machine many samples.  These are called <em>training samples</em>.  After showing the machine a bunch of these training samples, we can then <em>test</em> the machine how well it has learn, by showing the machine some <em>testing samples</em>.  </p>
<p>In our case, we want to train the machine to recognize handwritten digits.  During the training phase, we will present a set of handwritten digits in the form of images (as 2D arrays) to the machine, together with a label indicating which digits it is (i.e., "this picture shows the digit 1, this picture shows the digit 4, etc.").</p>
<p>During the testing phase, we will then present a set of handwritten digits to the machine, and ask, "ok, which digit to you think this is?"</p>
<p>We will then compare the machine's answer with the label of the handwritten digit (also called the <em>ground truth</em>) to see whether the machine recognize correctly or not.</p>
<h2 id="representation-of-a-handwritten-digit">Representation of a handwritten digit</h2>
<p>A handwritten digit is an image, represented as a 28x28 array of characters, consisting of . and #. An example is:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>............................
............................
............................
..........#######...........
.........########...........
........##########..........
.......####....###..........
.......###....####..........
..............####..........
.............####...........
............#####...........
............####............
...........####.............
...........###..............
..........####..............
.........####...............
.........####...............
........####................
........###.................
........###...........####..
........###################.
........###################.
.........###########........
............................
............................
............................
............................
............................
</code></pre></div>
</td></tr></table>
<p>The image above contains the digit 2.</p>
<h2 id="training-data">Training Data</h2>
<p>For this assignment, we will use the data provided by the MNIST Handwritten Digit Database. The original data has been post-procesed into CSV file by Joseph Redmon, then post-processed again by yours truly into the format above.</p>
<p>The dataset from above contains 60,000 training samples. I have created two smaller subsets for you to test your code.</p>
<p>The first subset contains 10 samples for each digit -- this is given in the file <code>train100.in</code>.</p>
<p>The second subset contains 6 samples for digits 0 and 1 -- this is given in the file <code>train6.in</code>.</p>
<p>The full training set from MNIST is too big to be included on GitHub. You can read it from <code>~cs1010/as09/train60000.in</code> if you want to play with it.</p>
<h2 id="testing-samples">Testing Samples</h2>
<p>We provide two sets of testing samples. The first contains three testing samples per digit. The second contains only a single digit corresponding to the example below.</p>
<p>The full training dataset from MNIST contains 10000 digits. It takes a long time to test every handwritten digit in this file, so you should do this only after you have made sure that your code is fast and is correct. Again, the file is too big to be posted on GitHub. You can read it directly from <code>~cs1010/as09/test10000.in</code>.</p>
<h2 id="the-algorithm">The Algorithm</h2>
<p>We will use the k-nearest neighbor algorithm for this assignment.  The idea of this algorithm is that, given a testing sample, the machine will compare it to all the training samples, and find out which digit this testing sample is most similar to.  </p>
<p>Let's define the distance between the two handwritten digits d(x1,x2) as the number of pixels that are different between them, i.e., how many pixels are <code>#</code> in one image but is <code>.</code> in the other image.</p>
<p>Given a test sample, q, we find the distance between q and all the available training samples and find the k training samples with the smallest distance (i.e., k nearest neighbors).</p>
<p>k is usually small -- we use k=5 in this assignment.  The intuition is that q must be "close" to the training data that has the same labels (i.e., the same digits). So we look at the these k nearest neighbors and find the most common digit d among them. We then recognize q as containing the digit d. If there are more than one most common digits or more than k nearest neighbors , then we break ties by returning the nearest (i.e., shorter distance) digit.  In the case where even the distance is the same, we return the smaller digit.</p>
<h2 id="efficiency">Efficiency</h2>
<p>Suppose we have n training samples, recognizing a digit should take no more than O(kn) time (or O(n) since k is a constant).  There is also an opportunity to stop early the calculation of the distance between two handwritten digits if the distance is too large, pruning away redundant work.</p>
<h2 id="example">Example</h2>
<p>Consider the following simple example with six training samples and a test sample.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>6
0
............................
............................
............................
............................
...............#####........
...............#####........
.............########.......
............##########......
...........###########......
..........########.###......
..........####.##...###.....
.........#####......###.....
........####........###.....
.......####.........###.....
.......###..........###.....
......####..........###.....
......###..........###......
......###.........####......
......###........###........
......###......####.........
......####..#######.........
......###########...........
.......########.............
........#####...............
............................
............................
............................
............................
0
............................
............................
............................
............................
.................####.......
................######......
...............#######......
.............#########......
...........###########......
..........############......
.........#############......
........#####.####.###......
.......#####..###...##......
.......####.........##......
.......##...........##......
......###...........##......
.....####..........###......
.....####..........###......
.....####.........###.......
.....####.......####........
.....##############.........
......############..........
........########............
.........######.............
............................
............................
............................
............................
0
............................
............................
............................
............................
............................
..............######........
..............########......
.............#########......
.............#########......
............##########......
..........######..####......
..........#####...####......
..........#####...####......
..........#####..#####......
..........####...#####......
.........####....####.......
........#####...#####.......
........#####...####........
........#####..#####........
........####..#####.........
........##########..........
........#########...........
........#########...........
.........######.............
..........#####.............
............................
............................
............................
1
............................
............................
............................
............................
............................
..................####......
.................#####......
.................#####......
................####........
...............#####........
...............####.........
...............####.........
..............####..........
.............####...........
............####............
............####............
...........####.............
...........####.............
..........####..............
..........####..............
.........####...............
.........####...............
........####................
........####................
.........###................
............................
............................
............................
1
............................
............................
............................
............................
............###.............
............####............
............####............
............####............
............####............
............####............
............#####...........
.............####...........
.............####...........
.............####...........
.............####...........
.............####...........
.............####...........
.............####...........
.............#####..........
.............#####..........
..............####..........
..............####..........
..............####..........
...............###..........
............................
............................
............................
............................
1
............................
............................
............................
............................
............................
.............##.............
.............##.............
.............##.............
.............##.............
.............###............
.............###............
.............###............
.............###............
.............###............
.............###............
.............###............
.............###............
.............###............
.............###............
..............###...........
..............##............
..............##............
..............###...........
..............##............
..............##............
............................
............................
............................
</code></pre></div>
</td></tr></table></p>
<p>The test sample is</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>1
0
............................
............................
............................
............................
............................
..............#####.........
.............#######........
...........##########.......
..........####.##.####......
.........####......####.....
.........###........###.....
........####.........##.....
........###..........##.....
.......###...........##.....
.......###...........##.....
.......###...........##.....
......####...........##.....
......####..........###.....
.......###..........###.....
.......###.........###......
........###.......###.......
........####....#####.......
.........##########.........
..........#########.........
............#####...........
............................
............................
............................
</code></pre></div>
</td></tr></table>
<p>The distances between the test sample and each of the training sampes are 101, 120, 162, 174, 173, 162. The k nearest neighbors belong to digits 0, 0, 0, 1, and 1. The most common digit among these neighbors is 0, so we conclude (correctly) that the test sample is digit 0.</p>
<h2 id="using-struct">Using struct</h2>
<p>One of the objectives of this assignment is to see if you know how to use <code>struct</code>. </p>
<p>For this assignment, you must define and use two <code>struct</code>:</p>
<ul>
<li>a <code>struct digit</code> that encapsulates the 2D array that represents the handwritten digit and its label, </li>
<li>a <code>struct neighbor</code> that encapsulates a neighboring digit and the distance to it.</li>
</ul>
<h2 id="inputoutput">Input/Output</h2>
<p>Write a program digits that reads, from the standard input, the following:</p>
<ul>
<li>
<p>A positive integer n, corresponding to the number of training samples, then repeatedly read n handwritten digits, containing:</p>
</li>
<li>
<p>a label corresponding to the digit in the next image (a number between 0 - 9)</p>
</li>
<li>
<p>28 lines of texts, consisting of '.' and '#' only, representing a handwritten digit</p>
</li>
<li>
<p>followed by another positive integer m, corresponding to the number testing samples, then repeatedly read m handwritten digits, containing: </p>
<ul>
<li>a label corresponding to the digit in the next image (a number between 0 - 9) </li>
<li>28 lines of texts, consisting of '.' and '#' only, representing a handwritten digit</li>
</ul>
</li>
</ul>
<p>Then prints, to the standard output, the following:</p>
<p>For each testing sample, </p>
<ul>
<li>print the digit it is labeled as, followed by a space, followed by the digit it is recognized as.</li>
</ul>
<p>Finally, print a double value that corresponds to the accuracy, i.e, the percentage of training testing samples correctly recognized.</p>
<p>We separated the training samples and testing samples into two files, so the usual way of redirecting a file into your program does not work anymore (since you need two files).</p>
<p>The way to run your program is to do the following:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>cat &lt;training samples&gt; &lt;testing samples&gt; | ./digits
</code></pre></div>
</td></tr></table>
<p>We use <code>cat</code> which concatenate two files into one to pass both the training samples and testing samples into the program using the pipe <code>|</code>.</p>
<p>The name convention for the output files is different for this assignment. The name is formatted as X-Y.out where X refers to the training samples trainX.in and Y refers to the testing samples testY.in.</p>
<h2 id="sample-runs">Sample Runs</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>ooiwt@pe121:~/cs1010/as09$ cat inputs/train6.in inputs/test1.in | ./digits
0 0
100.0000
ooiwt@pe121:~/cs1010/as09$ cat inputs/train100.in inputs/test30.in | ./digits
0 0
0 0
0 6
1 1
1 1
1 1
2 2
2 8
2 2
3 3
3 3
3 3
4 9
4 4
4 9
5 5
5 3
5 3
6 5
6 6
6 6
7 7
7 7
7 7
8 8
8 1
8 8
9 9
9 9
9 9
73.3333
</code></pre></div>
</td></tr></table>
<p>When you use the file <code>~cs1010/as09/train60000.in</code> as the training samples, you should receive 100% accuracy with <code>test30.in</code> and about 96.56% accuracy with <code>~cs1010/as09/test10000.in</code></p>
<h2 id="grading_1">Grading</h2>
<ul>
<li>10 marks for efficiency.  Your solution should run in O(n) time to get a full marks.</li>
<li>25 marks for correctness.</li>
<li>No marks are allocated for style and documentation, but we can deduct up to 5 marks for each category.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2020
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>